---
강의 리스트:
  - "[[데이터베이스]]"
생성 일시: 2022-10-04
유형: 필기
주차:
  - 5주차
---
### 이상 현상 (Anomaly)

- 불필요한 데이터 중복으로 인해 릴레이션에 대한 데이터 삽입∙수정∙삭제 연산 수행시 발생하는 부작용
- 종류
    - 삽입 이상 : 새 데이터 삽입을 위해 불필요한 데이터도 함께 삽입되는 문제
    - 갱신 이상 : 중복 튜플 중 일부만 변경되어 데이터가 불일치하게 되는 문제
    - 삭제 이상 : 튜플을 삭제하면 꼭 필요한 데이터까지 함께 삭제되는 문제

  

# 정규화 (Normalization)

- 이상 현상을 제거하면서 DB구조를 올바르게 설계해 나가는 과정
- 골자는 관련 있는 속성들로만 릴레이션을 구성하도록 분해하기  
    → 관련있는 속성인지 판단하는 기준 : ==함수적 종속성==

  

## 함수적 종속성

- x속성의 값을 알면 자동적으로 y값을 알수 있을때 → x는 결정자 y는 종속자
- x → y 로 표현  
    x가 y를 함수적으로 결정한다  
    y가 x에 함수적으로 종속되어 있다  
    
- 유의사항
    - 현재 릴레이션에 포함된 속성값만으로 함수 종속 관계 판단하면 안됨
    - 기본키, 후보키들은 릴레이션의 다른 모든 속성들에 대해 결정자가 되지만
    - 기본키, 후보키가 아닌 속성들도 결정자 될 수 있음
- 완전 함수 종속
    - 릴레이션 속성 집합 y가 속성 집합 x 전체에 종속되는 경우
    - 일반적인 의미의 함수 종속
- 부분 함수 종속
    - 릴레이션 속성 집합 y가 속성 집합 x의 전체가 아닌 일부분에도 종속됨을 의미

  

## 정규화(Normalization)

- 이상 현상을 제거하면서 DB구조를 올바르게 설계해 나가는 과정  
    → 함수적 종속 관계에 있는 속성들을 분리  
    
- 정규화를 통해 얻은 릴레이션은 무손실 분해(정보의 손실이 없음)여야 함

  

### 정규형(Normal Form)

- 릴레이션이 정규화된 정도
- 정규형마다 제약조건이 있고 차수가 높아질수록 엄격해 짐
    
    ![[/Untitled 54.png|Untitled 54.png]]
    

---

  

  

**==제 1 정규형==**

- 릴레이션의 모든 속성이 더는 분해되지 않는 원자 값을 가질 때
- 제 1 정규형을 만족해야 관계 DB의 릴레이션이 될 자격이 있음
- 하지만 제 1 정규형 만족해도 이상 현상 발생 가능
    
    ![[/Untitled 1 25.png|Untitled 1 25.png]]
    
      
    
    ![[/Untitled 2 19.png|Untitled 2 19.png]]
    

---

  

  

**제 2 정규형**

- 릴레이션이 제 1 정규형 + 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속 되면 제 2 정규형 만족
    
    ![[/Untitled 3 12.png|Untitled 3 12.png]]
    
    ![[/Untitled 4 10.png|Untitled 4 10.png]]
    
- 부분 함수 종속 문제는 해결했지만 여전히 이상 현상 발생 가능  
    → 이행적 함수 종속이 존재하기 때문  
    

  

> [!important] **이행적 함수 종속**
> 
> - 릴레이션을 구성하는 속성 집합 X, Y, Z 에 대해
> - 함수 종속 관계 X → Y 와 Y → Z가 존재하면
> - 논리적으로 X → Z가 성립,  
>     이를 Z가 X에 이행적 함수 종속 되었다고 함  
>     
> 
> ![[/Untitled 5 9.png|Untitled 5 9.png]]

---

  

  

**제 3 정규형**

- 릴레이션이 제 2 정규형 + 기본키가 아닌 모든 속성이 기본키에 이행적 함수 종속되지 않으면 만족
    
    ![[/Untitled 6 9.png|Untitled 6 9.png]]
    
      
    
- 여전히 발생할 수 있는 이상 현상  
    ex) 강사 당 한 강좌만 개설하는 상황  
    
    ![[/Untitled 7 8.png|Untitled 7 8.png]]
    

---

  

  

**보이스/코드 정규형 (BCNF)**

- 강한 제 3 정규형
- 후보키가 여러개여서 발생할 수 있는 이상현상을 해결하기 위한 정규형
    
    ![[/Untitled 8 4.png|Untitled 8 4.png]]
    
    ![[/Untitled 9 4.png|Untitled 9 4.png]]
    

---

  

  

**제 4 정규형**

- 릴레이션이 BCNF 만족하면서, 함수종속이 아닌 다치 종속 제거하면 제 4 정규형
    
    > [!important] **다치종속**
    > 
    > X, Y, Z속성을 가진 릴레이션에서 Y가 X에만 종속, Z에는 독립일때
    

![[/Untitled 10 4.png|Untitled 10 4.png]]

![[/Untitled 11 4.png|Untitled 11 4.png]]

---

  

  

**제 5 정규형**

- 제 4 정규형 만족하면서, 후보키를 통해서만 조인 종속이 만족되면 제 5 정규형
    
    > [!important] **조인종속**
    > 
    > 릴레이션을 분해했을 때, 분해된 릴레이션들로 자연 조인을 하면 원래 릴레이션을 만들 수 있는 상태