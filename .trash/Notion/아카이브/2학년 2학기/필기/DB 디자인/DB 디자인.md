---
강의 리스트:
  - "[[데이터베이스]]"
생성 일시: 2022-09-16
유형: 필기
주차:
  - 2주차
  - 3주차
  - 4주차
---
- [[#DB 설계]]
    - [[#데이터 모델링 (개념적 설계, 논리적 설계)]]
    - [[#데이터 모델]]
    - [[#DB 디자인을 위한 단계]]
        - [[#요구 사항 분석]]
        - [[#개념적 설계]]
        - [[#논리적 설계]]
        - [[#물리적 설계]]
        - [[#구현]]

  

# DB 설계

## 데이터 모델링 (개념적 설계, 논리적 설계)

현실 세계의 데이터를 컴퓨터 세계의 DB로 옮기는 변환 과정 → 추상화  
특징 잡아내기, 개념 뽑아내기  

- Conceptual Modeling : 현실 → 개념 세계
- Logical Modeling : 개념 세계 → DB에 맞는 구조로 표현

## 데이터 모델

- 데이터 모델링의 결과물, 데이터를 표현하는 일종의 ‘틀’
- Conceptual Model : 사람이 이해할 수 있도록 데이터를 DB의 개념적 구조로 표현한 것  
    ex) **Entity-Relation Model**
- Logical Model : Conceptual Model을 DB의 논리적 구조로 표현한 것  
    ex) Realational Model  
    

  

## DB 디자인을 위한 단계

### 요구 사항 분석

- 사용자 정의, 요구 사항 수집•분석, DB의 용도 파악, 필요한 데이터 파악, 어떤 처리 필요한지 고려

### 개념적 설계

- ER-Modeling
    
    - Peter Chen이 제안한 Conceptual Model
    - **개체와 개체간의 관계**로 현실 세계의 개념 구조 표현 → Entity-Relationship Diagram
        
        ![[/Untitled 32.png|Untitled 32.png]]
        
    - 핵심요소 : 개체, 관계, 속성
    
    ---
    
      
    
- ER-Model
    
    ### 개체 (Entity)
    
    - 현실에서 조직을 운영하는 데 꼭 필요한 구별되는 모든 것  
        ex) 서점 - 고객, 책  
        
    - 다른 개체와 구별되는 이름을 가짐
    - 각 객체만의 속성 (고유한 특성이나 상태)을 하나 이상 보유
    - ==ERD에서 사각형으로 표기==
    - 개별 데이터를 의미하는 인스턴스와는 달리 큰 틀로서의 의미
    
    ### 속성(Attribute)
    
    - 개체나 관계가 가지고 있는 **고유의 특성**
    - 의미 있는 데이터의 가장 작은 논리적 단위
    - ==ERD에서 타원으로 표기==
    
    - 속성의 종류
        
        **속성값의 개수에 따라**
        
        - 단일 값 속성 : 값을 하나만 가지는 속성
        - 다중 값 속성 : 값을 여러개 가지는 속성  
            ex) 고객 객체의 연락처 속성, 책 객체의 저자 속성  
            ==ERD에서 이중 타원으로 표기==
        
        **분해 가능성에 따라**
        
        - 단순 속성 : 의미 더이상 분해 불가
        - 복합 속성 : 의미 분해 가능  
            ex) 고객 객체의 생년월일 속성 → 연, 월, 일로 분해 가능  
            ==ERD에서 속성 아래 여러개의 타원으로 표현==
        
        **기타**
        
        - 유도 속성 : 다른 속성의 값에서 유도되어 결정되는 속성, 값이 별도로 저장되지 않음  
            ex) 고객 개체의 출생연도 속성으로 계산되는 나이 속성  
            ==ERD에서 점선 타원으로 표기==
        - Null 속성 : 미정이거나, 모르는 값 또는 존재하지 않는 값  
            공백이나 0과는 의미가 다름  
            
        - **키 속성** : 각 개체 인스턴스를 식별하는 데 사용되는 속성, 유일함  
            둘 이상의 속성들로 구성되기도 함 → 속성의 집합을 키로 사용 가능  
            ==ERD에서 밑줄로 표현==
        
    
    ### 관계 (Relationship)
    
    - 개체와 개체가 맺고 있는 의미 있는 연관성
    - 개체 집합들 사이의 대응관계(Mapping)를 의미
    - ==ERD에서 마름모로 표현==
    
    - 관계의 종류
        
        **관계에 참여하는 개체의 수에 따라**
        
        - 이항 관계 : 개체가 두개
        - 삼항 관계 : 개체가 세개
        - 순환 관계 : 개체가 하나로 자기 자신과 맺는 관계
        
        **Mapping Cardinality 에 따라**
        
        각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수
        
        - 일대일(1:1) 관계
        - 일대다(1:n) 관계
        - 다대다(n:m) 관계
        
        **참여 필수 여부에 따라**
        
        - 필수적 참여 : 모든 인스턴스가 관계에 반드시 참여  
            ex) 책을 사야만 고객이 되는 경우 → 고객 개체의 인스턴스는 무조건 책 개체와의 관계에 필수적 참여  
            ==ERD에서 이중선으로 표현==
        - 선택적 참여 : 인스턴스 중 일부만 관계에 참여해도 됨
        
        **의존성 여부에 따라**
        
        - 약한 개체 : 다른 개체의 존재 여부에 의존적인 개체, 홀로 존재할 수 없는 개체  
            ==ERD에서 이중 사각형으로 표현==  
            ==약한 개체와 오너 개체가 맺는 관계는 이중 마름모로 표현==
        - 오너 개체 : 다른 개체의 존재 여부를 결정하는 개체  
            ex)회사 DB의 직원 개체와 부양가족 개체 관계 → 부양가족 개체는 직원 개체가 없다면 존재 이유가 없음  
            
            > [!important] 필수적 참여 관계라면 무조건 약한 개체인가?
            > 
            >   
            > : 대체로 그렇지만 다른 관계를 통해 존재 될 수 있으니 주의해야함  
            
              
            
        
    
    ---
    
      
    
- ER-Modeling 과정
    
    ### 1. 개체 추출, 개체의 주요 속성과 키 속성 선별
    
    - 개체 : 저장할 만한 가치가 있는 중요 데이터를 가진 사람이나 사물
    - 추출방법 : 요구 사항 문장에서 업무와 관련이 깊은 의미있는 명사를 선택  
        → 찾은 명사를 개체와 속성으로 분류  
        
    
    ### 2. 개체 간의 관계 결정
    
    - 관계 : 개체 간의 의미 있는 연관성
    - 추출방법 : 요구 사항 문장에서 개체 간 연관성을 의미 있게 표현한 동사 선택  
        → 찾은 관계에 대해 Mapping Cardinality와 참여 특성을 결정  
        
    
    ### 3. ERD로 표현
    
    ---
    
      
    

### 논리적 설계

- 논리적 모델의 개념과 특성
    
    - ERD로 표현된 개념적 구조를 DB에 저장할 형태로 표현한 논리적 구조  
        ex) DB의 논리적 구조 = DB 스키마  
        
    - 계층 데이터 모델
        - 논리적 구조가 트리 형태 → 사이클 존재 X, 개체 사이에 하나의 관계만 정의 가능
        - 개체 간에 상하 관계가 성립 (부모 / 자식) → 둘 사이에서는 일대다 관계만 허용됨(인스턴스 단위)
        - 제약사항
            - 다대다 관계 직접 표현 불가
            - 개념적 구조 모델링하기 어려워 구조 복잡해짐
            - 데이터의 삽입*삭제*수정*검색 어려움
    - 네트워크 데이터 모델
        - 논리적 구조가 네트워크, 즉 그래프 형태 → 두 개체 사이에 여러 관계 정의 가능
        - 개체 간에는 일대다 관계만 직접적으로 허용됨 → 양쪽에서의 일대다 관계로 다대다 관계도 간접적으로 표현 가능
        - 제약사항
            - 다대다 관계 직접 표현 불가
            - 구조가 복잡, 데이터의 삽입*삭제*수정*검색 어려움
    - 관계 데이터 모델
    
    ---
    
      
    
- Relational Data Model
    
    **개체에 대한 데이터를 하나의 Relation(Table)에 저장**
    
    ![[/Untitled 1 9.png|Untitled 1 9.png]]
    
    - Relation의 행 → 튜플 (튜플 < 인스턴스)
    - 도메인 : 속성이 가질 수 있는 데이터 타입의 집합
    - Null (미결값) : 아직 모르거나 해당되는 값이 없음을 표현
    - **Degree : Relation속 속성의 전체 개수**
    - **Cardinality : Relation속 튜플(행)의 전체 개수**
    
    ---
    
      
    
    ![[/Untitled 2 7.png|Untitled 2 7.png]]
    
    - Relation Schema : 릴레이션 이름과 릴레이션에 포함된 모든 속성 이름으로 정의  
        ex) 고객 (고객아이디, 고객이름, 나이, 등급, 직업)  
        
    - Relation Instance : 릴레이션에 존재하는 튜플들의 집합
    
    ---
    
      
    
    ![[/Untitled 3 5.png|Untitled 3 5.png]]
    
    - Database Schema : DB의 전체 구조, DB를 구성하는 릴레이션 스키마의 모음
    - Database Instance : DB를 구성하는 릴레이션 인스턴스의 모음
    
    ---
    
      
    
    **Relation의 특성 (제약사항)**
    
    - Tuple의 유일성 : 하나의 릴레이션에는 동일한 튜플 존재 불가
    - Tuple의 무순서 : 릴레이션 안에서 튜플의 순서는 무의미
    - Attribute의 무순서 : 릴레이션 안에서 속성의 순서는 무의미
    - ==Attribute의 원자성 : 속성값으로는 배열 등의 여러 값을 사용 할 수 없다==
    
    ---
    
      
    
    **Relation 의 Key**
    
    - 릴레이션에서 Tuple들을 유일하도록 구별하는 속성의 집합
    - 특성
        - ==유일성 : 하나의 릴레이션에서 모든 Tuple은 서로 다른 키 값을 가져야 함==
        - ==최소성 : 꼭 필요한 최소한의 속성들로만 키를 구성==
    - 종류
        - 슈퍼키 : 유일성을 만족하는 속성들
        - 후보키 : 유일성과 최소성을 만족하는 속성들
        - 기본키 : 후보키 중에서 선택된 키, 유일하다
        - 외래키 : 다른 릴레이션의 기본키를 참조하는 속성들
    
    ---
    
      
    
    **Foreign Key**
    
    - Relation들 간의 관계를 표현
    - 외래키와 참조되는 기본키의 속성의 이름은 달라도 되지만 Domain은 같아야 함 (Domain은 속성이 가질 수 있는 값의 집합)
    - 하나의 릴레이션에 외래키가 여러개일 수도 있고, 외래키를 기본키로 사용할 수도 있음
    - 같은릴레이션의 기본키를 참조하는 외래키도 정의 가능
    - 외래키의 속성은 Null 값을 가질 수도 있음 (기본키는 Null값 가질 수 없음)
    
    ---
    
      
    
    **무결성 제약조건**
    
    → 데이터의 무결성을 보장하여 일관된 상태로 유지하기 위한 규칙  
    무결성 : 데이터를 결함이 없는 상태, 즉 정확하고 유효하게 유지하는 것  
    
    - 개체 무결성 제약조건
        - 기본키를 구성하는 모든 속성은 Null값을 가질 수 없다
    - 참조 무결성 제약조건
        - 외래키는 참조할 수 없는 값을 가질 수 없다  
            참조되는 기본키에 없는 값을 무작정 가질 수 없다는 소리  
            
        - Null 값은 가질 수 있음
    
    ---
    
      
    
      
    

- Relational Modeling 과정
    
    **ERD를 Relation Schema로 변환하는 규칙**
    
    1. 모든 개체는 Relation으로 변환
        
        - 개체의 이름 → Relation 이름
        - 개체의 속성 → Relation의 속성
        - 개체의 Key 속성 → Relation의 기본키
        - 개체의 복합 속성 → 활용성을 고려하여 분해 여부 결정
        
        ---
        
          
        
    2. 다대다 관계는 Relation으로 변환
        
        ![[/Untitled 4 5.png|Untitled 4 5.png]]
        
        - 관계의 이름 → Relation 이름
        - 관계의 속성 → Relation의 속성
        - 관계에 참여하는 개체는 규칙1에 따라 Relation으로 변환
        - 이 릴레이션의 기본키를 관계 릴레이션의 외래키로 지정
        - 모든 외래키를 조합하여 관계 릴레이션의 기본키로 지정
            - 혹은 별도의 기본키를 위한 속성 추가
        
        ---
        
          
        
    3. 일대다 관계는 Foreign Key로 표현
        
        ![[/Untitled 5 4.png|Untitled 5 4.png]]
        
        1. 일반적인 일대다 관계 → 외래키로 표현
            - 1측 릴레이션의 기본키를 n측 릴레이션의 외래키로 지정
            - 관계의 속성들도 n측 릴레이션에 포함
        2. 약한 개체의 일대다 관계 → 외래키를 포함해 기본키로 지정
            - 오너 개체 (1), 약한 개체 (n)
            - 일반적인 일대다 관계와 비슷하나 n측 릴레이션은 외래키를 포함하여 기본키를 지정
        
        ---
        
          
        
    4. 일대일 관계는 Foreign Key로 표현
        
        1. 일반적인 일대일 관계 → 외래키를 주고받음
            
            ![[/Untitled 6 4.png|Untitled 6 4.png]]
            
            - 관계의 속성도 모든 릴레이션에 포함
            - 불필요한 데이터 중복 발생 가능
        2. 필수 참여 관계 → 필수 참여 릴레이션만 외래키, 관계의 속성 받음
        3. 모든개체가 필수 참여 → 릴레이션을 통합
            - 릴레이션 이름으로 관계의 이름 사용, 관계에 참여하는 모든 속성 포함시킴
            - 두 개체 릴레이션의 키 속성 조합하여 관계 릴레이션의 기본키로 지정
        
        ---
        
          
        
    5. 다중 값 속성은 Relation으로 변환
        
        ![[/Untitled 7 3.png|Untitled 7 3.png]]
        
        - 다중 값 속성과 함께 그 속성이 있던 개체 릴레이션의 기본키를 외래키로 가져와 새 릴레이션에 포함
        - 새 릴레이션의 기본키는 다중 값 속성과 외래키를 조합해 지정
        
        ---
        
          
        
    6. 그 밖의 규칙들
        
        1. 모든 관계를 독립적인 릴레이션으로 변환 가능
        2. 개체가 자기 자신과 관계를 맺는 순환 관계의 경우 → 외래키를 자기자신의 기본키로
        
        ---
        
    
      
    
    ### [[정규화]]
    

### 물리적 설계

### 구현